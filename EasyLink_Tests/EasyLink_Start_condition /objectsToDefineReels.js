var initial_extration = [];

var initial_extration_tmp = [211,4,4,9,9,1,9,9,9,0,0,7,219,0,2,8,211,2,5,9,5,7,3,4,200,4,6,1,6,4,6,2,3,218,4,212,9,8,212,7,212,211,1,3,8,8,200,6,1,9,2,1,2,211,9,4,4,0,8,6,9,9,0,9,200,7,9,7,5,5,211,8,215,2,8,8,6,4,9,211,8,211,9,2,2,4,6,7,6,3,3,0,0,7,8,7,0,0,3,200,9,8,8,9,0,7,7,8,8,2,4,8,8,8,211,7,211,3,211,5,7,3,3,8,3,200,1,0,3,7,7,216,7,9,2,8,4,7,4,3,212,8,211,9,9,213,1,1,4,4,5,5,6,7,9,7,1,4,5,211,3,212,4,4,200,9,8,8,1,8,6,214,8,8,2,5,5,8,9,0,2,3,9,2,7,7,7,9,3,6,8,6,200,9,5,8,9,211,211,0,8,6,7,8,9,9,3,215,6,8,6,200,0,8,7,217,3,8,9,9,7,9,5,5,7,5,200,0,0,8,8,3,1,3,211,5,214,7,8,5,213,3,8,4,1,5,211,218,8,8,200,9,8,6,6,2,1,7,5,6,0,5,2,6,200,7,6,5,1,4,6,3,4,4,3,3,2,9,6,9,8,2,9,9,9,4,0,9,9,8,8,5,2,8,8,8,215,3,211,7];
initial_extration.push(initial_extration_tmp);

var initial_extration_tmp = [8,0,7,200,8,4,0,7,2,1,7,212,4,4,2,3,5,5,2,3,5,6,100,8,2,1,9,211,211,1,211,5,8,6,5,100,4,5,6,1,7,3,3,100,4,4,100,8,0,7,200,9,3,9,3,7,7,8,4,4,214,7,5,0,4,3,3,3,5,0,0,5,5,4,5,200,6,0,9,100,1,1,7,4,9,0,2,6,100,9,0,6,0,6,7,3,4,2,2,213,100,8,0,100,211,5,5,6,9,5,7,5,6,213,212,6,211,8,0,0,218,100,5,6,4,4,8,1,3,100,2,6,0,7,8,6,2,3,3,9,8,6,9,9,4,5,200,4,3,9,8,2,9,9,4,3,0,5,200,7,5,2,9,7,3,2,212,9,100,2,6,100,4,8,1,2,1,5,3,211,211,0,0,8,100,3,2,100,8,5,1,9,8,8,0,8,2,2,211,4,100,9,9,9,8,6,100,2,1,9,5,7,3,3,1,100,6,6,0,8,1,0,3,7,200,7,5,100,215,9,1,1,100,0,0,0,100,2,0,5,213,211,0,6,1,8,7,5,8,2,100,3,3,4,4,0,9,2,100,0,211,2,211,9,5,200,8,8,6,200,5,7,3,1,3,100,213,6,9,212,211,3,211,0,7,3,2,200,3,9,9,3,100,1,6,5,7,211,100,7];
initial_extration.push(initial_extration_tmp);

var initial_extration_tmp = [2,2,7,100,1,2,5,7,8,8,1,3,6,1,2,213,100,5,5,5,2,200,9,6,200,5,7,100,211,3,4,4,8,2,4,6,211,100,211,3,9,100,8,1,4,1,8,8,9,6,5,100,6,6,6,1,9,2,4,5,1,8,7,5,8,6,100,0,213,9,212,3,6,100,1,4,7,1,4,211,8,100,3,211,7,6,6,9,100,4,2,0,7,4,3,3,9,0,213,0,213,7,1,0,6,5,0,6,9,100,216,7,214,3,3,1,100,3,9,6,5,7,212,211,7,2,7,100,3,1,7,4,7,7,8,100,3,5,211,7,211,2,211,7,3,211,212,7,7,8,1,1,9,5,6,6,9,2,0,7,4,3,3,9,0,100,0,9,212,214,2,5,100,1,5,5,9,100,8,1,0,0,1,0,9,9,3,9,200,8,2,4,9,200,4,4,9,9,2,100,2,1,8,9,211,8,211,3,8,7,3,4,4,4,3,8,8,211,4,0,100,214,7,7,6,211,9,214,100,6,8,9,211,9,3,6,8,8,1,7,9,4,100,9,7,1,8,200,3,0,100,4,5,4,211,212,5,100,9,3,2,7,9,5,6,3,3,8,212,5,9,7,200,4,8,2,2,5,200,8,8,211,9,2,6,7,6,100,8,9,5,8,9,200,6,6,3,0,3,100];
initial_extration.push(initial_extration_tmp);

var initial_extration_tmp = [3,213,2,2,0,1,0,9,0,200,5,9,4,7,1,3,100,9,2,4,4,212,3,100,211,9,8,4,100,0,2,212,8,100,9,2,7,100,2,213,0,0,3,5,100,5,5,2,2,6,0,0,8,7,212,0,100,2,2,100,1,7,8,5,5,4,9,2,200,7,5,8,213,2,1,0,1,100,9,9,1,6,200,8,2,7,4,0,6,5,5,1,7,6,100,8,5,5,100,214,2,100,9,9,100,0,3,0,8,1,5,8,8,8,2,7,3,5,211,9,6,4,0,1,4,0,1,4,5,8,8,4,8,8,1,2,5,0,8,6,6,6,0,0,3,100,4,5,214,8,1,100,9,9,3,3,8,200,9,9,6,5,5,8,1,100,2,0,3,4,9,215,211,9,0,3,1,4,100,212,1,1,1,6,6,7,6,6,3,100,8,6,0,214,6,1,4,212,0,212,100,2,6,2,4,7,0,5,7,6,215,100,211,7,211,212,3,8,200,3,2,4,213,7,8,100,2,6,8,4,4,200,8,6,9,4,3,4,0,0,2,9,212,9,6,3,0,0,5,214,213,7,6,200,0,1,0,215,2,8,8,1,100,1,0,6,100,9,0,1,200,1,1,100,9,220,0,3,213,3,100,9,1,1,211,211,1,6,4,3,5,7,7,7,2,1,8,9,8,5];
initial_extration.push(initial_extration_tmp);

var initial_extration_tmp = [7,1,100,2,212,5,7,100,214,3,4,212,211,6,8,2,7,6,2,8,4,213,4,215,0,211,211,3,9,2,4,7,2,6,0,9,7,4,3,5,100,8,9,211,3,9,4,6,2,211,211,213,4,213,3,8,1,212,215,9,4,200,4,9,100,0,9,7,8,6,4,213,8,9,9,3,3,5,0,200,3,2,6,9,1,212,5,0,4,8,8,8,3,6,9,1,7,6,6,100,1,1,0,7,9,9,100,8,0,4,212,9,8,9,2,9,9,9,3,3,3,1,200,4,8,213,2,0,9,6,9,8,100,213,5,218,1,2,3,0,8,214,8,5,1,3,5,0,3,212,211,3,4,1,2,5,2,4,6,5,7,211,5,100,7,211,7,0,0,1,5,4,3,2,9,7,7,5,8,8,6,1,5,200,6,2,8,200,1,6,8,211,5,5,7,2,1,211,8,211,7,9,8,1,5,2,4,211,211,2,211,211,4,5,200,6,9,7,0,8,1,8,3,217,100,211,7,9,2,200,4,9,9,2,2,8,3,1,211,3,6,2,6,6,4,212,3,9,9,4,6,211,9,8,7,3,4,211,7,4,4,4,7,5,6,1,8,8,4,9,100,212,3,6,100,8,6,9,3,3,8,212,0,8,8,200,2,5,0,6,5,100,7,7,9,9,3,6,7,7];
initial_extration.push(initial_extration_tmp);

var array_of_reels=[];

var prizes = {
    "easyLink_symbol_min": 211,
    "easyLink_symbol_max":220,
    "freeSpins_symbol": 200,
    "normal_symbols": 199
};



//console.log(initial_extration[0].toString);
//Reel obj com Nome e valores de initial extration
var reelObj = {
    reeel_name: "reel 1",
    reel_values: initial_extration[0]
};
array_of_reels.push(reelObj);
var reelObj = {
    reeel_name: "reel 2",
    reel_values: initial_extration[1]
};
array_of_reels.push(reelObj);
var reelObj = {
    reeel_name: "reel 3",
    reel_values: initial_extration[2]
};
array_of_reels.push(reelObj);
var reelObj = {
    reeel_name: "reel 4",
    reel_values: initial_extration[3]
};
array_of_reels.push(reelObj);
var reelObj = {
    reeel_name: "reel 5",
    reel_values: initial_extration[4]
};
array_of_reels.push(reelObj);


var screen_extration = {reel_name: "not_defined", reel_values: []};

//Recebe "reel_end_position" indexes da terceira linha de extração

function getReelFomation(reel_end_position){


    let reel_end_position_indexes = [];
    let reel_end_position_indexes_array = [];
    //Obter simbols da linha superior 
    for(f = 0; f<reel_end_position.length;f++){
       reel_end_position_indexes.push(array_of_reels[f].reel_values[reel_end_position[f]]);
    }
    reel_end_position_indexes_array.push(reel_end_position_indexes);
    //reel_end_position_indexes_array.push(reel_end_position_indexes);
    //na segunda reel pode ocurrrer o index a utilizar ser maior do que o tamanho do array, nesse caso tem de se
    //utilizar um sistema de array circular, neste caso apenas reseta o valor a 0 caso o valo do reel

    //SECUND REEL
    //----------------------------------------------- DONE ----------------------------------------------------------
    
    reel_end_position_indexes = [];
    for(j = 0; j<reel_end_position.length;j++){
        
        let index_value_tmp = reel_end_position[j] + 1;
        if(index_value_tmp>array_of_reels[j].reel_values.length-1){
            //console.log("Index value tmp: "+index_value_tmp);
            //console.log("array_of_reels["+j+"].reel_values.length-1: "+array_of_reels[j].reel_values.length);
            //console.log("Valor correto: "+array_of_reels[j].reel_values[0])
            index_value_tmp = index_value_tmp - array_of_reels[j].reel_values.length;
        }
        reel_end_position_indexes.push(array_of_reels[j].reel_values[index_value_tmp]);
       
    }
    reel_end_position_indexes_array.push(reel_end_position_indexes);
    
    //----------------------------------------------- DONE ----------------------------------------------------------
    //THIRD REEL 
    //----------------------------------------------- DONE ----------------------------------------------------------
    
     reel_end_position_indexes = [];
     let start_counting = false;
     for(j = 0; j<reel_end_position.length;j++){

            let index_value_tmp = reel_end_position[j] + 2;
        
         if(index_value_tmp>array_of_reels[j].reel_values.length-1){
             //console.log("Index value tmp: "+index_value_tmp);
             //console.log("array_of_reels["+j+"].reel_values.length-1: "+array_of_reels[j].reel_values.length);
             console.log("Valor correto: "+array_of_reels[j].reel_values[index_value_tmp-array_of_reels[j].reel_values.length])
             index_value_tmp = index_value_tmp - array_of_reels[j].reel_values.length;
         }
         reel_end_position_indexes.push(array_of_reels[j].reel_values[index_value_tmp]);
        
     }
     reel_end_position_indexes_array.push(reel_end_position_indexes);
     
    //----------------------------------------------- DONE ----------------------------------------------------------
    console.log("Reel end pos idx array: ");
    console.log(reel_end_position_indexes_array.join("\n"))
    //aaray of reels, contem a initial extraction de cada reel com nome
   // array_of_reels;
    //console.log(reel_end_position_indexes);
    //Enum de Prizes
   // prizes;

    //reel_end_position, é o recebido pela função para calcular todas as posiçoes atuais
}

//SAO OS INDEXS!!!!
//alterar apenas aui para obter 
var reel_end_p= [299,299,299,299,299];

getReelFomation(reel_end_p);

/*
function getIndexOnInitialExtraction(value, reelIndex){
    for(i =0; i <array_of_reels[reelIndex].reel_values.length; i++){
        if(array_of_reels[reelIndex].reel_values[i] == value){
            return i;
        }
    }
    return -1;
}
*/